微信读书网页版增强脚本，提升阅读体验。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
致谢
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

本脚本基于以下优秀作品合并和扩展，感谢原作者的贡献：

• 微信读书 - 作者：Velens
  https://greasyfork.org/zh-CN/scripts/440339

• 微信读书网页版标注笔记快捷键 - 作者：Ernest Lee
  https://greasyfork.org/zh-CN/scripts/497926

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
为什么要合并？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

在使用微信读书网页版时，我需要同时安装多个脚本才能满足需求：
• Velens 的脚本：提供护眼背景色、宽屏模式、自动阅读等功能
• Ernest Lee 的脚本：提供快捷键标注功能，大幅提升标注效率

但是：
1. 多脚本管理麻烦 - 需要分别安装、更新、配置
2. 功能有重叠 - 两个脚本都监听键盘事件，偶尔会冲突
3. 缺少笔记同步 - 我需要把划线和想法同步到 Flomo，原脚本都不支持

于是我将两个脚本合并，并添加了笔记同步功能。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
新增功能
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

• 发送到 Flomo - 一键同步划线/想法到 Flomo
• 发送到 Notion - 同步到 Notion 数据库
• 发送到 Obsidian - 同步到 Obsidian 笔记
• 自定义 Webhook - 同步到任意支持 Webhook 的服务
• 摘抄/想法模板分离 - 摘抄和想法使用独立模板，更灵活

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
功能特性
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【阅读体验】来自 Velens
• 护眼背景色 - 9种可选（豆沙绿、杏仁黄等）
• 宽屏模式 - 更大的阅读区域
• 沉浸模式 - 隐藏顶栏，专注阅读
• 自动翻页 - 小键盘0开启/关闭

【快捷标注】来自 Ernest Lee
选中文字后按数字键：
  1 → 复制
  2 → 马克笔（背景高亮）
  3 → 波浪线
  4 → 直线
  5 → 写想法
  Backspace → 删除划线/想法
  Esc → 关闭想法弹窗
  
注：1-5 和 Backspace 快捷键不建议修改，可能导致功能异常。

【笔记同步】新增
  Ctrl+Shift+Alt+J → 发送到 Flomo（摘抄）
  Ctrl+Shift+Alt+N → 发送到 Notion
  Ctrl+Shift+Alt+O → 发送到 Obsidian
  Ctrl+Shift+Alt+W → 发送到 Webhook

点击"发表"按钮提交想法时会自动同步到 Flomo（使用想法模板）。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
使用说明
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【打开设置面板】
• 方式一：鼠标移到屏幕右边缘，自动弹出设置面板（可在面板中关闭此功能）
• 方式二：按 Ctrl+, 快捷键打开设置面板

【自定义快捷键】
所有快捷键都可以在设置面板中自定义修改，点击快捷键按钮后按下新的组合键即可。

【获取 Flomo API】
1. 打开 Flomo → 设置 → API
2. 复制你的 API 地址
3. 粘贴到脚本设置面板

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
模板设置
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Flomo 支持两个独立模板：

【摘抄模板】用于快捷键发送划线
可用变量：{{selectedText}}, {{bookName}}, {{chapter}}, {{tags}}

【想法模板】用于发表想法时同步
可用变量：{{selectedText}}, {{thought}}, {{bookName}}, {{chapter}}, {{tags}}

【层级标签设置】
如需使用 Flomo 层级标签（如 #书摘/书名），设置方法：
• 标签填：#书摘
• 模板填：{{tags}}/{{bookName}}
结果：#书摘/了凡四训

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
反馈
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

GitHub: https://github.com/zhangyu0806/weread-enhanced
问题反馈: https://github.com/zhangyu0806/weread-enhanced/issues
